{% load static %}

<div id="cabeza-form">
    <h3 class="centered-title">Crear Permiso</h3>
    <br>
</div>

<div id="" class="mx-auto">
    <div id="body-form" class="">
        <div class="form-container">

            <div class="row">
                <div class="col-3 form-group text-center fs-7">
                    {{ form_permisos.cedula.label }}
                    {{ form_permisos.cedula }}
                </div>
                <div class="col-5 form-group text-center fs-7">
                    {{ form_permisos.nombre_completo.label }}
                    {{ form_permisos.nombre_completo }}
                </div>
                <div class="col-4 form-group text-center fs-7">
                    {{ form_permisos.area.label }}
                    {{ form_permisos.area }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 text-center fs-7">
                    {{ form_permisos.turno.label }}
                </div>
                <div class="col-md-2 text-center fs-7">
                    {{ form_permisos.fecha_permiso.label }}
                </div>
                <div class="col-md-2 text-center fs-9">
                    {{ form_permisos.fecha_fin_permiso.label }}
                </div>
                <div class="col-md-3 text-center fs-7">
                    {{ form_permisos.hora_salida.label }}
                </div>
                <div class="col-md-3 text-center fs-7">
                    {{ form_permisos.hora_llegada.label }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 form-group">
                    {{ form_permisos.turno }}
                </div>
                <div class="col-md-2 form-group">
                    {{ form_permisos.fecha_permiso }}
                </div>
                <div class="col-md-2 form-group">
                    {{ form_permisos.fecha_fin_permiso }}
                </div>
                <div class="col-md-3 form-group">
                    {{ form_permisos.hora_salida }}
                </div>
                <div class="col-md-3 form-group">
                    {{ form_permisos.hora_llegada }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 form-group text-center fs-9">
                    {{ form_permisos.compensa_tiempo.label }}
                </div>
                <div class="col-md-5 text-center fs-8">
                    {{ form_permisos.motivo_permiso.label }}
                </div>
                <div class="col-md-5 text-center fs-7">
                    {{ form_permisos.nombre_coordinador.label }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 form-group">
                    {{ form_permisos.compensa_tiempo }}
                </div>
                <div class="col-md-5 form-group">
                    {{ form_permisos.motivo_permiso }}
                </div>
                <div class="col-md-5 form-group">
                    {{ form_permisos.nombre_coordinador }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-9 form-group text-center fs-7">
                    {{ form_permisos.datos_adjuntos.label }}
                    {{ form_permisos.datos_adjuntos }}
                </div>

                <div class="col-md-3 form-group text-center fs-7">
                    {{ form_permisos.verificacion.label }}
                    {{ form_permisos.verificacion }}
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 form-group text-center fs-7">
                    {{ form_permisos.observacion.label }}
                    {{ form_permisos.observacion }}
                </div>

                <div class="col-md-6 form-group text-center fs-7">
                    {{ form_permisos.estado.label }}
                    {{ form_permisos.estado }}
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
    // Asegúrate de cambiar "id_cedula" por el ID real de tu campo de cédula
    $("#id_cedula").change(function () {
        var cedula = $(this).val();

        // Realiza una solicitud AJAX al servidor para obtener el nombre
        $.ajax({
            url: "/obtener_nombre/",
            type: "GET",
            data: {"cedula": cedula},
            success: function (data) {
                if (data.nombre) {
                    $("#id_nombre_completo").val(data.nombre);
                } else {
                    console.error("Empleado no encontrado");
                }
            },
            error: function () {
                console.error("Error al obtener el nombre");
            }
        });
    });
});
</script>